## HTML to plain text conversion is a common task, especially when you need to display or process the text content of a web page without the HTML tags and formatting. Here's a commonly used technique to convert HTML to plain text in C#:

System
using System;
using System.Text.RegularExpressions;

class HtmlToText
{
    public static string ConvertHtmlToText(string html)
    {
        // Remove HTML tags
        string text = Regex.Replace(html, "<[^>]*>", string.Empty);

        // Decode HTML entities
        text = System.Net.WebUtility.HtmlDecode(text);

        // Remove line breaks, spaces, and tabs
        text = Regex.Replace(text, @"[\r\n\t\s]{2,}", " ");

        return text.Trim();
    }

    public static void Main(string[] args)
    {
        // Sample HTML
        string html = "<h1>Hello, <em>World</em>!</h1>";

        // Convert HTML to plain text
        string text = ConvertHtmlToText(html);

        // Print the result
        Console.WriteLine(text);
    }
}


In this code:

We define a class called HtmlToText that contains a method called ConvertHtmlToText.

The ConvertHtmlToText method takes an HTML string as input and returns a plain text string.

The first step is to remove all HTML tags using Regex.Replace. This is done by searching for any occurrence of <[^>]*> and replacing it with an empty string.

Next, we decode HTML entities using System.Net.WebUtility.HtmlDecode. This converts HTML entities such as &lt; and &gt; back to their corresponding characters.

After that, we remove consecutive line breaks, spaces, and tabs using Regex.Replace. This step helps to clean up any extra whitespace in the text.

Finally, we trim the result to remove any leading or trailing whitespace.

You can use this code to convert HTML strings to plain text in your C# applications.
Summary: Here is a comprehensive summary of the various methods and approaches to convert HTML into plain text:

**Regular Expressions:**

Using regular expressions is a straightforward method for tag stripping. However, it has limitations in handling complex HTML structures and can be tricky to write a robust regex pattern that covers all cases. Here's an example:

```
string html = "<p>Hello World</p>";
string plainText = Regex.Replace(html, "<[^>]*>", string.Empty);
```

**Using HTMLAgilityPack:**

HTMLAgilityPack is a powerful library for parsing HTML documents. It allows you to navigate through the HTML structure and extract the text content. Here's an example:

```
HtmlDocument doc = new HtmlDocument();
doc.LoadHtml(html);
string plainText = doc.DocumentNode.InnerText;
```

**Using NuGet Packages:**

There are several NuGet packages available that provide easy-to-use methods for converting HTML to plain text. For example, the **HtmlSanitizer** package includes a `StripTags()` method that removes all HTML tags from a string.

```
string html = "<p>Hello World</p>";
string plainText = HtmlSanitizer.StripTags(html);
```

**Using String Manipulation:**

In some cases, you can use basic string manipulation techniques to remove HTML tags. For instance, you can replace all occurrences of `<` and `>` with empty strings to strip the tags. However, this approach is limited and may not handle all HTML constructs correctly.

```
string html = "<p>Hello World</p>";
string plainText = html.Replace("<", "").Replace(">", "");
```

**Using WebUtility.HtmlDecode():**

The WebUtility.HtmlDecode() method can be used to convert HTML-encoded characters back to their original form. This is useful when you need to display the text content of HTML elements without the HTML tags.

```
string html = "&lt;p&gt;Hello World&lt;/p&gt;";
string plainText = WebUtility.HtmlDecode(html);
```

**Using XDocument:**

XDocument is a class in the .NET Framework that can be used to parse XML documents. HTML is a subset of XML, so you can use XDocument to extract the text content from HTML.

```
XDocument doc = XDocument.Parse(html);
string plainText = doc.Root.Value;
```

**Third-Party Libraries:**

There are also a number of third-party libraries available that provide HTML-to-text conversion functionality. These libraries often offer additional features such as handling of special characters, preserving line breaks, and more.

The choice of method depends on your specific requirements and the complexity of the HTML content you need to convert. For simple cases, regular expressions or string manipulation may suffice. For more complex HTML structures, consider using a library like HTMLAgilityPack or a dedicated HTML-to-text converter.

Link: https://stackoverflow.com/questions/286813/how-do-you-convert-html-to-plain-text/1121515#1121515

<img src="/img/b627900b-9e94-4951-b5b8-02889804737a.png" width="400" />
<br/><br/>
